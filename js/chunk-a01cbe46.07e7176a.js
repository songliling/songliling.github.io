(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a01cbe46"],{"7e58":function(e,t,r){},c4b2:function(e,t,r){"use strict";r("7e58")},feda:function(e,t,r){"use strict";r.r(t);var n,s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home-container"},[e._v(" sellOrder"),r("br"),r("button",{on:{click:e.mintNft}},[e._v(" 铸造nft ")]),e._v(" "),r("br"),r("button",{on:{click:e.getNftList}},[e._v(" 获取我的nft ")]),r("br"),r("br"),r("br"),e._v(" 我的nft列表 "),r("ul",e._l(e.list,(function(t){return r("li",{key:t.tokenID},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.selectNft,expression:"selectNft"}],attrs:{type:"checkbox",name:"vehicle"},domProps:{value:t,checked:Array.isArray(e.selectNft)?e._i(e.selectNft,t)>-1:e.selectNft},on:{change:[function(r){var n=e.selectNft,s=r.target,c=!!s.checked;if(Array.isArray(n)){var a=t,o=e._i(n,a);s.checked?o<0&&(e.selectNft=n.concat([a])):o>-1&&(e.selectNft=n.slice(0,o).concat(n.slice(o+1)))}else e.selectNft=c},e.Nftchenge]}}),e._v(" "+e._s(t.tokenID)+" ")])})),0),r("br"),r("br"),r("button",{on:{click:e.checkapprove}},[e._v(" 检查是否授权 ")]),r("br"),r("br"),r("ul",e._l(e.selectNft,(function(t){return r("li",{key:t.tokenID},[0==t.approveAllstates?r("button",{attrs:{disabled:t.approveAllstates},on:{click:function(r){return e.approve(t)}}},[e._v(" nft授权 "+e._s(t.tokenID)+" ")]):e._e(),r("div",[e._v(" nft"+e._s(t.tokenID)+" 价格 "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],attrs:{placeholder:"edit me",readonly:""},domProps:{value:e.message},on:{input:function(t){t.target.composing||(e.message=t.target.value)}}}),r("br")])])})),0),r("br"),e._v(" 单位： "),r("input",{attrs:{type:"radio",name:"cointype",value:"eth"},on:{change:function(t){return e.setcointype("eth")}}}),e._v("eth "),r("input",{attrs:{type:"radio",name:"cointype",value:"weth"},on:{change:function(t){return e.setcointype("weth")}}}),e._v("weth "),r("br"),r("br"),r("button",{on:{click:e.sellOrder}},[e._v(" 卖出 ")]),r("br"),r("br"),e._v(" 针对上面卖出的订单操作 "),r("br"),r("br"),r("button",{on:{click:e.buyOrder}},[e._v(" 买入 ")])])},c=[],a=r("5530"),o=r("1da1"),i=(r("159b"),r("96cf"),r("2f62")),l=r("b036"),u=r("3ae2"),d={data:function(){return{list:[],selectNft:[],selectNftPrise:[],message:"1",cointype:"eth"}},methods:{setcointype:function(e){this.$data.cointype=e},mintNft:function(){var e=this.ethersprovider,t=this.ethAddress,r=this.ethChainID,n=2;Object(l["j"])(e,t,r,n)},getNftList:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.ethersprovider,n=e.ethAddress,s=e.ethChainID,t.next=5,Object(l["g"])(r,n,s);case 5:e.$data.list=t.sent,console.log(e.$data.list);case 7:case"end":return t.stop()}}),t)})))()},checkapprove:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,n,s,c,a,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=e.ethersprovider,n=e.ethAddress,s=e.ethChainID,c=e.$data.selectNft,e.$data.selectNft=[],console.log("select ",c),a=0;case 7:if(!(a<c.length)){t.next=16;break}return o=c[a],t.next=11,Object(l["d"])(r,n,s,o.tokenAddress);case 11:i=t.sent,o.approveAllstates=i;case 13:a++,t.next=7;break;case 16:console.log(e.$data.selectNft),e.$data.selectNft=c;case 18:case"end":return t.stop()}}),t)})))()},approve:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var n,s,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.ethersprovider,s=t.ethAddress,c=t.ethChainID,r.next=5,Object(l["c"])(n,s,c,e.tokenAddress);case 5:r.sent;case 6:case"end":return r.stop()}}),r)})))()},Nftchenge:function(){console.log(this.$data.selectNft)},sellOrder:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,s,c,a,o,i,d,h,f,v;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.ethersprovider,s=e.ethAddress,c=e.ethChainID,a=Object(u["b"])(2),e.web3,o="1",i=e.$data.cointype,d=new l["h"],console.log("sellTokenCon",d),console.log("sellTokenCon.addnft",d.addnft),e.$data.selectNft.forEach((function(e){var t=e.tokenAddress,r=e.tokenID;d.addnft(t,r,o)})),t.next=13,d.sellOrder(r,s,c,a,i);case 13:return h=t.sent,console.log("offChainOrder",h),n=h,f=d.getorderForServer(),console.log("ordertoserver",f),console.log("ordertoserver",JSON.stringify(f)),t.next=21,d.sendOrderToserver();case 21:v=t.sent,console.log("server",v);case 23:case"end":return t.stop()}}),t)})))()},buyOrder:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,s,c,a,o,i,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.ethersprovider,s=e.ethAddress,c=e.ethChainID,"1",e.$data.selectNft[0],a=Object(u["a"])(2),e.web3,o=new l["l"](c),i=0,o.addBuyorder(n,i),t.next=12,o.executeOrder(r,s,c,a);case 12:d=t.sent,console.log(d);case 14:case"end":return t.stop()}}),t)})))()}},mounted:function(){},computed:Object(a["a"])(Object(a["a"])({},Object(i["c"])(["web3","ethersprovider","ethChainID","ethAddress"])),{},{isReady:function(){return this.web3&&this.ethersprovider&&this.ethChainID&&this.ethAddress}})},h=d,f=(r("c4b2"),r("2877")),v=Object(f["a"])(h,s,c,!1,null,"7a517cc6",null);t["default"]=v.exports}}]);
//# sourceMappingURL=chunk-a01cbe46.07e7176a.js.map
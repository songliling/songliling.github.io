(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-30604fd3"],{"2f8f":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home-container"},[e._v(" buyOrder "),r("button",{on:{click:e.mintNft}},[e._v(" 铸造nft ")]),e._v(" "),r("br"),r("button",{on:{click:e.getNftList}},[e._v(" 获取全部的nft ")]),r("br"),r("br"),r("br"),e._v(" 我的nft列表 "),r("ul",e._l(e.list,(function(t){return r("li",{key:t.tokenID},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.selectNft,expression:"selectNft"}],attrs:{type:"checkbox",name:"vehicle"},domProps:{value:t,checked:Array.isArray(e.selectNft)?e._i(e.selectNft,t)>-1:e.selectNft},on:{change:[function(r){var n=e.selectNft,s=r.target,a=!!s.checked;if(Array.isArray(n)){var c=t,o=e._i(n,c);s.checked?o<0&&(e.selectNft=n.concat([c])):o>-1&&(e.selectNft=n.slice(0,o).concat(n.slice(o+1)))}else e.selectNft=a},e.Nftchenge]}}),e._v(" "+e._s(t.tokenID)+" ")])})),0),r("br"),r("br"),e._v(" weth:"+e._s(e.wethNum)),r("br"),r("button",{on:{click:e.readweth}},[e._v(" 读取weth 余额 ")]),r("br"),r("button",{on:{click:e.checkapprove}},[e._v(" 检查WETH否授权额度 ")]),r("br"),r("button",{on:{click:e.approve}},[e._v(" weth 授权 ")]),r("br"),r("br"),r("div",[r("button",{on:{click:e.makeethtoweth}},[e._v(" 1eth转1weth ")])]),r("br"),r("br"),r("ul",e._l(e.selectNft,(function(t){return r("li",{key:t.tokenID},[0==t.approveAllstates?r("button",{attrs:{disabled:t.approveAllstates},on:{click:function(r){return e.approve(t)}}},[e._v(" nft授权 "+e._s(t.tokenID)+" ")]):e._e(),r("div",[e._v(" nft"+e._s(t.tokenID)+" 价格 "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],attrs:{placeholder:"edit me",readonly:""},domProps:{value:e.message},on:{input:function(t){t.target.composing||(e.message=t.target.value)}}}),r("br")])])})),0),r("br"),e._v(" 单位：weth "),r("br"),r("br"),r("button",{on:{click:e.pendingbuyorder}},[e._v(" 挂买单 ")]),r("br"),r("br"),r("button",{on:{click:e.buyOrder}},[e._v(" 成交这个买单 ")])])},s=[],a=r("5530"),c=r("1da1"),o=(r("159b"),r("96cf"),r("2f62")),i=r("b036"),u=r("3ae2"),h={data:function(){return{list:[],selectNft:[],selectNftPrise:[],message:"1",wethNum:"0"}},methods:{mintNft:function(){var e=this.ethersprovider,t=this.ethAddress,r=this.ethChainID,n=2;Object(i["j"])(e,t,r,n)},getNftList:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.ethersprovider,n=e.ethAddress,s=e.ethChainID,t.next=5,Object(i["f"])(r,n,s);case 5:e.$data.list=t.sent,console.log(e.$data.list);case 7:case"end":return t.stop()}}),t)})))()},readweth:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,n,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.ethersprovider,n=e.ethAddress,s=e.ethChainID,t.next=5,Object(i["m"])(r,n,s);case 5:a=t.sent,console.log(a),e.$data.wethNum=a;case 8:case"end":return t.stop()}}),t)})))()},makeethtoweth:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,n,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.ethersprovider,n=e.ethAddress,s=e.ethChainID,a=1,t.next=6,Object(i["e"])(r,n,s,a);case 6:t.sent;case 7:case"end":return t.stop()}}),t)})))()},checkapprove:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,n,s,a,c,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.ethersprovider,n=e.ethAddress,s=e.ethChainID,a=Object(i["i"])(r,n,s),c=a.address,t.next=7,Object(i["a"])(r,n,s,c);case 7:o=t.sent,console.log(o);case 9:case"end":return t.stop()}}),t)})))()},approve:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var r,n,s,a,c,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.ethersprovider,n=t.ethAddress,s=t.ethChainID,a=Object(i["i"])(r,n,s),c=a.address,o=100,e.next=8,Object(i["b"])(r,n,s,c,o);case 8:e.sent;case 9:case"end":return e.stop()}}),e)})))()},Nftchenge:function(){console.log(this.$data.selectNft)},pendingbuyorder:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,n,s,a,c,o,h,d,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.ethersprovider,n=e.ethAddress,s=e.ethChainID,a=Object(u["a"])(2),e.web3,c="1",o="weth",h=new i["h"],console.log("sellTokenCon",h),console.log("sellTokenCon.addnft",h.addnft),e.$data.selectNft.forEach((function(e){var t=e.tokenAddress,r=e.tokenID;h.addnft(t,r,c)})),t.next=13,h.buyOrderOffer(r,n,s,a,o);case 13:return d=t.sent,console.log("offChainOrder",d),t.next=17,h.sendOrderToserver();case 17:l=t.sent,console.log("server",l);case 19:case"end":return t.stop()}}),t)})))()},buyOrder:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.ethersprovider,e.ethAddress,e.ethChainID,"1",e.$data.selectNft[0],Object(u["a"])(2),e.web3;case 7:case"end":return t.stop()}}),t)})))()}},mounted:function(){},computed:Object(a["a"])(Object(a["a"])({},Object(o["c"])(["web3","ethersprovider","ethChainID","ethAddress"])),{},{isReady:function(){return this.web3&&this.ethersprovider&&this.ethChainID&&this.ethAddress}})},d=h,l=(r("ed11"),r("2877")),f=Object(l["a"])(d,n,s,!1,null,"e9bc0b2c",null);t["default"]=f.exports},a7d9:function(e,t,r){},ed11:function(e,t,r){"use strict";r("a7d9")}}]);
//# sourceMappingURL=chunk-30604fd3.26b7ace5.js.map
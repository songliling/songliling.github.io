(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-75bcda78"],{"4b35":function(t,e,r){"use strict";r("da7c")},d8c9:function(t,e,r){"use strict";r.r(e);var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("Menu",{attrs:{mode:"horizontal",theme:"dark","active-name":"one"},on:{"on-select":t.onSelect}},[r("MenuItem",{attrs:{name:"one"}},[r("div",{staticClass:"buttonCss"},[t._v(" 审核 ")])]),r("MenuItem",{attrs:{name:"two"}},[r("div",{staticClass:"buttonCss"},[t._v(" 激活 ")])]),r("MenuItem",{attrs:{name:"three"}},[r("div",{staticClass:"buttonCss",on:{click:t.onAllProjectsClick}},[t._v(" 所有产品 ")])])],1),"one"===t.activeItem?r("div",{staticClass:"table-warpper"},[r("Table",{attrs:{columns:t.productsCols,data:t.auditList,loading:t.loading},scopedSlots:t._u([{key:"projectName",fn:function(e){var i=e.row;return[r("div",{staticClass:"symbol flex items-center"},[r("p",[t._v(t._s(i.projectName))])])]}},{key:"projectArtistAddress",fn:function(e){var i=e.row;return[r("div",{staticClass:"price"},[r("router-link",{staticClass:"site",attrs:{to:"/user/"+i.projectArtistAddress}},[t._v(" "+t._s(i.projectArtistAddress.slice(0,5))+"..."+t._s(i.projectArtistAddress.slice(-5))+" ")])],1)]}},{key:"projectArtist",fn:function(e){var i=e.row;return[r("div",{staticClass:"price"},[r("p",{staticClass:"price"},[t._v(" "+t._s(i.projectArtist)+" ")])])]}},{key:"projectMintPrice",fn:function(e){var i=e.row;return[r("div",{staticClass:"price"},[r("p",{staticClass:"price"},[t._v(" "+t._s(i.projectMintPrice)+" ")])])]}},{key:"iscode",fn:function(e){var i=e.row;return[r("div",{staticClass:"price"},[r("p",{staticClass:"price"},[t._v(" "+t._s(i.iscode?"script":"image")+" ")])])]}},{key:"projectdescription",fn:function(e){var i=e.row;return[r("div",{staticClass:"description"},[r("p",{staticClass:"description",attrs:{title:i.projectdescription}},[t._v(" "+t._s(i.projectdescription)+" ")])])]}},{key:"projectLicense",fn:function(e){var i=e.row;return[r("div",{staticClass:"price"},[r("p",{staticClass:"price"},[t._v(" "+t._s(i.projectLicense)+" ")])])]}},{key:"projectWebsite",fn:function(e){var i=e.row;return[r("div",{staticClass:"price"},[r("a",{staticClass:"site",attrs:{href:i.projectWebsite,target:"_blank"}},[t._v(t._s(i.projectWebsite))])])]}},{key:"addProject",fn:function(e){var i=e.row;return[r("div",{staticClass:"price"},[r("button",{staticClass:"whitespace-nowrap",on:{click:function(e){return t.onAddClick(i)}}},[t._v(" 添加项目 ")])])]}},{key:"addAddress",fn:function(e){var i=e.row;return[r("div",{staticClass:"price"},[r("button",{staticClass:"whitespace-nowrap",on:{click:function(e){return t.onBindAddress(i)}}},[t._v(" 绑定地址 ")])])]}},{key:"active",fn:function(e){var i=e.row;return[r("div",{staticClass:"price"},[t._v(" "+t._s(i.active)+" "),r("button",{staticClass:"whitespace-nowrap",on:{click:function(e){return t.onActiveClick(i)}}},[t._v(" active ")])])]}}],null,!1,400520167)})],1):t._e(),"two"===t.activeItem?r("div",{staticClass:"table-warpper"},[r("Table",{attrs:{columns:t.activeCols,data:t.projectList},scopedSlots:t._u([{key:"project_id",fn:function(e){var i=e.row;return[r("div",{staticClass:"symbol flex items-center"},[r("p",[t._v(t._s(i.project_id))])])]}},{key:"projectName",fn:function(e){var i=e.row;return[r("div",{staticClass:"price"},[r("router-link",{staticClass:"site",attrs:{to:"/projectDetail/"+i.project_id}},[t._v(" "+t._s(i.projectName)+" ")])],1)]}},{key:"artist",fn:function(e){var i=e.row;return[r("div",{staticClass:"price"},[r("p",{staticClass:"price"},[t._v(" "+t._s(i.artist)+" ")])])]}},{key:"description",fn:function(e){var i=e.row;return[r("div",{staticClass:"price",attrs:{title:i.description}},[t._v(" "+t._s(i.description)+" ")])]}},{key:"license",fn:function(e){var i=e.row;return[r("div",{staticClass:"price"},[r("p",{staticClass:"price"},[t._v(" "+t._s(i.license)+" ")])])]}},{key:"website",fn:function(e){var i=e.row;return[r("div",{staticClass:"price"},[r("a",{staticClass:"site",attrs:{href:i.website,target:"_blank"}},[t._v(t._s(i.website))])])]}},{key:"active",fn:function(e){var i=e.row;return[r("div",{staticClass:"price"},[t._v(" "+t._s(i.project_status.Active)+" ")])]}},{key:"action",fn:function(e){var i=e.row;return[r("div",{staticClass:"price"},[r("button",{staticClass:"whitespace-nowrap",on:{click:function(e){return t.onActiveClick(i)}}},[t._v(" active ")])])]}},{key:"bind",fn:function(e){var i=e.row;return[r("div",{staticClass:"price"},[r("button",{staticClass:"whitespace-nowrap",on:{click:function(e){return t.onSetEnableClick(i)}}},[t._v(" "+t._s(i.project_status.PassportMint?"关闭":"启用")+" ")]),i.project_status.PassportMint?r("button",{staticStyle:{"margin-left":"10px"},on:{click:function(e){return t.onSetCardClick(i)}}},[t._v(" 分配 ")]):t._e()])]}}],null,!1,1706574350)}),r("SetCardDialog",{ref:"setCard"})],1):t._e()],1)},n=[],s=r("1da1"),c=r("5530"),a=(r("96cf"),r("d3b7"),r("3ca3"),r("ddb0"),r("25f0"),r("2f62")),o=r("2cf0"),u=r("e13f"),d={name:"artList",data:function(){return{activeItem:"one",nextProjectID:-1,manualProjectId:"",manualArtistAddress:"",auditList:[],projectList:[],vipProjects:[],loading:!1}},components:{SetCardDialog:function(){return r.e("chunk-dd77a008").then(r.bind(null,"da98"))}},computed:Object(c["a"])(Object(c["a"])({},Object(a["c"])(["web3","ethersprovider","ethChainID","ethAddress"])),{},{isReady:function(){return this.web3&&this.ethersprovider&&this.ethChainID&&this.ethAddress},productsCols:function(){return[{title:"Name",slot:"projectName",minWidth:25},{title:"Artist Address",slot:"projectArtistAddress",minWidth:100},{title:"Artist",slot:"projectArtist",minWidth:30},{title:"Mint Price",slot:"projectMintPrice",minWidth:40},{title:"Type",slot:"iscode",minWidth:80},{title:"Description",slot:"projectdescription",minWidth:60},{title:"License",slot:"projectLicense",minWidth:40},{title:"Website",slot:"projectWebsite",minWidth:50},{title:"添加项目",slot:"addProject",minWidth:20},{title:"绑定地址",slot:"addAddress",minWidth:20}]},activeCols:function(){return[{title:"ID",slot:"project_id"},{title:"Name",slot:"projectName",minWidth:100},{title:"Artist",slot:"artist"},{title:"Description",slot:"description",minWidth:120},{title:"License",slot:"license"},{title:"Website",slot:"website",minWidth:120},{title:"Active",slot:"active",minWidth:20},{title:"Action",slot:"action",minWidth:20},{title:"设置会员卡",slot:"bind",width:160}]}}),methods:{loadData:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.loading=!0,r=t.getParams(),e.next=5,Object(u["c"])();case 5:return t.auditList=e.sent,e.next=8,Object(u["n"])();case 8:return t.vipProjects=e.sent,e.next=11,Object(u["h"])(Object(c["a"])(Object(c["a"])({},r),{},{all:!0}));case 11:t.projectList=e.sent,e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](0),console.log(e.t0);case 17:return e.prev=17,t.loading=!1,e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[0,14,17,20]])})))()},getParams:function(){return{web3:this.web3,library:this.ethersprovider,account:this.ethAddress,chainID:this.ethChainID}},onAddClick:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var i,n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return i=e.getParams(),r.next=3,Object(u["b"])(Object(c["a"])(Object(c["a"])({},t),i));case 3:n=r.sent,s=n.ProjectID,console.log({ProjectID:s}),e.nextProjectID=s;case 7:case"end":return r.stop()}}),r)})))()},onBindAddress:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var i,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(-1!==e.nextProjectID){r.next=2;break}return r.abrupt("return");case 2:return i=e.getParams(),r.next=5,Object(u["o"])(Object(c["a"])(Object(c["a"])(Object(c["a"])({},t),i),{},{nextProjectID:e.nextProjectID}));case 5:n=r.sent,o["a"].$emit("sendtx",[n,{okinfo:"Bind Success!",failinfo:"Bind Failed！"}]);case 7:case"end":return r.stop()}}),r)})))()},onActiveClick:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var i,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return i=e.getParams(),r.next=3,Object(u["f"])(Object(c["a"])(Object(c["a"])({},i),{},{projectId:t.project_id}));case 3:n=r.sent,o["a"].$emit("sendtx",[n,{okinfo:"Active Success!",failinfo:"Active Failed！"}]);case 5:case"end":return r.stop()}}),r)})))()},onManualBindAddress:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.getParams(),e.next=3,Object(u["o"])(Object(c["a"])(Object(c["a"])({},r),{},{nextProjectID:t.manualProjectId,projectArtistAddress:t.manualArtistAddress}));case 3:i=e.sent,o["a"].$emit("sendtx",[i,{okinfo:"Bind Success!",failinfo:"Bind Failed！"}]);case 5:case"end":return e.stop()}}),e)})))()},onSetEnableClick:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var i,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return i=e.getParams(),r.next=3,Object(u["e"])(Object(c["a"])(Object(c["a"])({},i),{},{projectId:t.project_id.toString()}));case 3:n=r.sent,o["a"].$emit("sendtx",[n,{okinfo:"启用 Success!",failinfo:"启用 Failed！"}]);case 5:case"end":return r.stop()}}),r)})))()},onBindProjectToVip:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var i,n,s,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return i=t.projectId,n=t.passportProjectId,s=e.getParams(),r.next=4,Object(u["d"])(Object(c["a"])(Object(c["a"])({},s),{},{projectId:i.toString(),passportProjectId:n.toString()}));case 4:return a=r.sent,o["a"].$emit("sendtx",[a,{okinfo:"分配 Success!",failinfo:"分配 Failed！"}]),r.abrupt("return",a);case 7:case"end":return r.stop()}}),r)})))()},onSelect:function(t){this.activeItem=t},onSetCardClick:function(t){this.$refs.setCard.open(t,this.vipProjects)},onAllProjectsClick:function(){this.$router.push("/manage/allProjects")}},watch:{isReady:function(t){t&&this.loadData()}},created:function(){this.isReady&&this.loadData()}},l=d,p=(r("4b35"),r("2877")),v=Object(p["a"])(l,i,n,!1,null,"337c046b",null);e["default"]=v.exports},da7c:function(t,e,r){}}]);
//# sourceMappingURL=chunk-75bcda78.dfd26753.js.map
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7c8d81b9"],{"8b57":function(t,e,r){"use strict";r("9953")},9953:function(t,e,r){},b1e8:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"nft-script grid-2 pt-8"},[r("div",[r("div",[t._v("Project ID: "+t._s(t.projectId))]),r("div",[t._v("Project Name: "+t._s(t.detailData.projectName)+" ")]),r("div",{staticClass:"mrg-tb-20"},[r("button",{on:{click:t.onRun}},[t._v(" Preview ")]),r("button",{staticClass:"mrg-lr-20",on:{click:t.onSaveScript}},[t._v(" Save ")]),r("button",{staticClass:"mrg-lr-20",on:{click:t.toCreateAtt}},[t._v(" Create Attributes ")])]),r("div",[r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.projectScript,expression:"projectScript"}],attrs:{rows:"20"},domProps:{value:t.projectScript},on:{input:function(e){e.target.composing||(t.projectScript=e.target.value)}}})])]),r("div",{staticClass:"art-show"},[r("div",{staticClass:"mrg-tb-20"},[t._v(" Show ")]),r("div",{ref:"nftcanvas",staticClass:"art-show"})])])},n=[],c=r("1da1"),i=r("5530"),s=(r("d3b7"),r("96cf"),r("2f62")),o=(r("2cf0"),r("e13f")),d={name:"artList",data:function(){var t=this.$route.params.projectId;return{scriptCount:0,projectScript:"",projectId:t,detailData:{}}},computed:Object(i["a"])(Object(i["a"])({},Object(s["c"])(["web3","ethersprovider","ethChainID","ethAddress"])),{},{isReady:function(){return this.web3&&this.ethersprovider&&this.ethChainID&&this.ethAddress}}),methods:{getParams:function(){var t=this.$route.params,e=t.projectId,r=t.tokenId;return{web3:this.web3,library:this.ethersprovider,account:this.ethAddress,chainID:this.ethChainID,projectId:e,tokenId:r}},getProjectDetail:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.getParams(),e.next=3,Object(o["g"])(r);case 3:t.detailData=e.sent;case 4:case"end":return e.stop()}}),e)})))()},getProjectScript:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var r,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.getParams(),e.next=3,Object(o["k"])(r);case 3:a=e.sent,n=a.code,t.projectScript=n;case 6:case"end":return e.stop()}}),e)})))()},onSaveScript:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.getParams(),e.next=3,Object(o["j"])(Object(i["a"])(Object(i["a"])({},r),{},{scriptContent:t.projectScript,scriptId:0,type:"add"}));case 3:a=e.sent,"ok"===a.msg?t.$Notice.success({title:"Save Success！"}):t.$Notice.warning({title:"Save Fail！"});case 5:case"end":return e.stop()}}),e)})))()},onRun:function(){var t=this.$refs.nftcanvas,e=this.projectScript;t.childNodes.length&&t.removeChild(t.childNodes[0]);var r={hashes:["0x722899b10c66da3b72fb60a8e71df442ee1c004547ba2227d76bed357469b4ea"],tokenId:1};this.createIframe(t,r,e)},createIframe:function(t,e,r){var a=document.createElement("iframe");return a.style.width="100%",a.style.height="100%",a.style.margin="0",a.style.padding="0",a.style.overflow="hidden",a.style.border="none",onload&&"[object Function]"===Object.prototype.toString.call(onload)&&(a.attachEvent?a.attachEvent("onload",onload):a.addEventListener?a.addEventListener("load",onload):a.onload=onload),a.srcdoc='<html><head><meta charset="utf-8"/><script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.0.0/p5.min.js"><\/script><script>let tokenData = '+JSON.stringify(e)+"<\/script><script>"+r+'<\/script><style type="text/css">body {\n  margin: 0;\n  padding: 0;\n}\ncanvas {\n  padding: 0;\n  margin: auto;\n  display: block;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}</style></head></html>',t.appendChild(a),a},toCreateAtt:function(){this.$router.push("/createAttr/".concat(this.projectId))}},watch:{isReady:function(t){t&&(this.getProjectDetail(),this.getProjectScript())}},created:function(){this.isReady&&(this.getProjectDetail(),this.getProjectScript())}},p=d,u=(r("8b57"),r("2877")),l=Object(u["a"])(p,a,n,!1,null,"3b919b02",null);e["default"]=l.exports}}]);
//# sourceMappingURL=chunk-7c8d81b9.204e1513.js.map
{"version":3,"sources":["webpack:///./src/views/manage/projects/index.vue?ae88","webpack:///./src/views/manage/projects/index.js","webpack:///./src/views/manage/projects","webpack:///./src/views/manage/projects/index.vue?5b5c","webpack:///./src/views/manage/projects/index.vue?bfa4"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","productsCols","projectList","loading","scopedSlots","_u","key","fn","ref","row","_s","project_id","projectName","artist","description","license","website","dynamic","getTokenPrice","token_info","PricePerTokenInWei","project_status","PassportMint","PassportProjectId","all_tokens","length","MaxInvocations","on","$event","onEditClick","onEditScriptClick","onEditImageClick","toSettings","openIssueCardDialog","_e","staticRenderFns","name","data","components","issueCardModal","computed","mapState","isReady","web3","ethersprovider","ethChainID","ethAddress","title","slot","minWidth","methods","id","$router","push","price","res","Web3","utils","fromWei","getParams","library","account","chainID","getProjectList","params","isAll","$route","fullPath","includes","fetchProjectList","all","console","log","ArtistAddress","onNameClick","$refs","issueCard","open","watch","val","newVal","oldVal","created","component"],"mappings":"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","file":"js/chunk-673adb80.df6678c2.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"table-warpper\"},[_c('div',{staticClass:\"porject-list\"},[_vm._v(\" Project List \")]),_c('Table',{attrs:{\"columns\":_vm.productsCols,\"data\":_vm.projectList,\"loading\":_vm.loading},scopedSlots:_vm._u([{key:\"project_id\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('div',{staticClass:\"symbol flex items-center\"},[_c('p',[_vm._v(_vm._s(row.project_id))])])]}},{key:\"projectName\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('div',{staticClass:\"price\",attrs:{\"title\":row.projectName}},[_c('p',{staticClass:\"price\"},[_c('router-link',{staticClass:\"site\",attrs:{\"to\":(\"/projectDetail/\" + (row.project_id))}},[_vm._v(\" \"+_vm._s(row.projectName)+\" \")])],1)])]}},{key:\"artist\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('div',{staticClass:\"price\"},[_c('p',{staticClass:\"price\"},[_vm._v(\" \"+_vm._s(row.artist)+\" \")])])]}},{key:\"description\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('div',{staticClass:\"price\"},[_c('p',{staticClass:\"price truncate\",attrs:{\"title\":row.description}},[_vm._v(\" \"+_vm._s(row.description)+\" \")])])]}},{key:\"license\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('div',{staticClass:\"price\"},[_c('p',{staticClass:\"price\"},[_vm._v(\" \"+_vm._s(row.license)+\" \")])])]}},{key:\"website\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('div',{staticClass:\"price\"},[_c('a',{staticClass:\"site\",attrs:{\"href\":row.website,\"target\":\"_blank\"}},[_vm._v(_vm._s(row.website))])])]}},{key:\"dynamic\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(\" \"+_vm._s(row.dynamic)+\" \")]}},{key:\"price\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(\" \"+_vm._s(_vm.getTokenPrice(row.token_info && row.token_info.PricePerTokenInWei))+\" \")]}},{key:\"PassportMint\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(\" \"+_vm._s(row.project_status.PassportMint ? row.token_info.PassportProjectId : '-')+\" \")]}},{key:\"mint\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(\" \"+_vm._s(row.all_tokens && row.all_tokens.length)+\" / \"+_vm._s(row.token_info && row.token_info.MaxInvocations)+\" \")]}},{key:\"edit\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('div',{staticClass:\"price\"},[_c('button',{staticClass:\"whitespace-nowrap\",on:{\"click\":function($event){return _vm.onEditClick(row)}}},[_vm._v(\" Edit info \")])])]}},{key:\"script\",fn:function(ref){\nvar row = ref.row;\nreturn [(row.dynamic)?_c('div',{staticClass:\"price\"},[_c('button',{staticClass:\"whitespace-nowrap\",on:{\"click\":function($event){return _vm.onEditScriptClick(row)}}},[_vm._v(\" Edit script \")])]):_c('div',{staticClass:\"price\"},[_c('button',{staticClass:\"whitespace-nowrap\",on:{\"click\":function($event){return _vm.onEditImageClick(row)}}},[_vm._v(\" Upload image \")])])]}},{key:\"setting\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('button',{staticClass:\"whitespace-nowrap\",on:{\"click\":function($event){return _vm.toSettings(row.project_id)}}},[_vm._v(\" Settings \")])]}},{key:\"issue\",fn:function(ref){\nvar row = ref.row;\nreturn [(row.is_vip)?_c('button',{staticClass:\"whitespace-nowrap\",on:{\"click\":function($event){return _vm.openIssueCardDialog(row)}}},[_vm._v(\" Issue card \")]):_vm._e()]}}])}),_c('issueCardModal',{ref:\"issueCard\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { mapState } from 'vuex';\nimport { fetchProjectList } from '../../../contactLogic/manage/index';\nimport Web3 from \"web3\";\nexport default {\n    name: 'artList',\n    data() {\n        return {\n            projectList: [],\n            loading: false,\n        };\n    },\n    components: {\n        issueCardModal: () =>\n            import ('./dialog/IssueCardDialog.vue'),\n    },\n    computed: {\n        ...mapState(['web3', 'ethersprovider', 'ethChainID', 'ethAddress']),\n        isReady() {\n            return this.web3 && this.ethersprovider && this.ethChainID && this.ethAddress;\n        },\n        productsCols() {\n            return [{\n                    title: 'ID',\n                    slot: \"project_id\",\n                },\n                {\n                    title: 'Name',\n                    slot: \"projectName\",\n                    minWidth: 20\n                },\n                {\n                    title: 'Artist',\n                    slot: \"artist\",\n                    minWidth: 40\n                },\n                {\n                    title: 'Description',\n                    slot: \"description\",\n                    minWidth: 50\n                },\n                {\n                    title: 'License',\n                    slot: \"license\",\n                    minWidth: 20\n                },\n                {\n                    title: 'Website',\n                    slot: \"website\",\n                    minWidth: 50\n                },\n                {\n                    title: 'Dynamic',\n                    slot: \"dynamic\",\n                    minWidth: 30\n                },\n                {\n                    title: 'Price',\n                    slot: \"price\",\n                    minWidth: 30\n                },\n                {\n                    title: 'Passport ProjectId',\n                    slot: \"PassportMint\",\n                    minWidth: 30\n                },\n                {\n                    title: 'Minted',\n                    slot: \"mint\",\n                    minWidth: 60\n                },\n                {\n                    title: 'Edit',\n                    slot: \"edit\",\n                    minWidth: 40\n                },\n                {\n                    title: 'Script/Image',\n                    slot: \"script\",\n                    minWidth: 50\n                },\n                {\n                    title: 'Settings',\n                    slot: \"setting\",\n                    minWidth: 40\n                },\n                {\n                    title: 'Issue card',\n                    slot: \"issue\",\n                    minWidth: 60\n                },\n                // {\n                //     title: 'Paused',\n                //     slot: \"paused\",\n                //     minWidth: 30\n                // },\n                // {\n                //     title: 'Locked',\n                //     slot: \"locked\",\n                //     minWidth: 40\n                // },\n                // {\n                //     title: 'BaseApi',\n                //     slot: \"baseApi\",\n                //     minWidth: 40,\n                // }\n            ];\n        }\n    },\n    methods: {\n        toSettings(id) {\n            this.$router.push(`/manage/settings/${id}`);\n        },\n        getTokenPrice(price) {\n            if (!price) {\n                return false;\n            }\n            const res = Web3.utils.fromWei(price);\n            return `${res} ETH`;\n        },\n        getParams() {\n            return {\n                web3: this.web3,\n                library: this.ethersprovider,\n                account: this.ethAddress,\n                chainID: this.ethChainID,\n            };\n        },\n        async getProjectList() {\n            try {\n                this.loading = true;\n                const params = this.getParams();\n                const isAll = this.$route.fullPath.includes('allProjects');\n                this.projectList = await fetchProjectList({\n                    ...params,\n                    all: isAll,\n                });\n                console.log('project', this.projectList);\n            } catch (error) {\n                console.log(error);\n            } finally {\n                this.loading = false;\n            }\n        },\n        onEditClick(row) {\n            this.$router.push(`/manage/edit/${row.project_id}/${row.token_info.ArtistAddress}`);\n        },\n        onEditScriptClick(row) {\n            this.$router.push(`/manage/preview/${row.project_id}/${row.token_info.ArtistAddress}`);\n        },\n        onEditImageClick(row) {\n            this.$router.push(`/uploadImage/${row.project_id}`);\n        },\n        onNameClick(row) {\n            this.$router.push(`/projectDetail/${row.project_id}`);\n        },\n        openIssueCardDialog(data) {\n            this.$refs.issueCard.open(data);\n        },\n    },\n    watch: {\n        isReady(val) {\n            if (val) {\n                this.getProjectList();\n            }\n        },\n        ['$route.path'](newVal, oldVal) {\n            if (newVal !== oldVal) {\n              this.getProjectList();\n            }\n        }\n    },\n    created() {\n        if (this.isReady) {\n            this.getProjectList();\n        }\n    }\n};\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/eslint-loader/index.js??ref--13-0!./index.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/eslint-loader/index.js??ref--13-0!./index.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=7ba02ebc&scoped=true&\"\nimport script from \"./index.js?vue&type=script&lang=js&\"\nexport * from \"./index.js?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=7ba02ebc&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7ba02ebc\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=7ba02ebc&lang=less&scoped=true&\""],"sourceRoot":""}
{"version":3,"sources":["webpack:///./src/views/project/projectDetail/projectDetail.vue?f7d0","webpack:///src/views/project/projectDetail/projectDetail.vue","webpack:///./src/views/project/projectDetail/projectDetail.vue?84e9","webpack:///./src/views/project/projectDetail/projectDetail.vue?9adb","webpack:///./src/views/project/projectDetail/projectDetail.vue?4958"],"names":["render","_vm","this","_h","$createElement","_c","_self","isShowTokenList","staticClass","attrs","routerlist","projectData","getToken","all_tokens","slot","_v","_s","getTokenPrice","project_website","project_license","getShortAddress","length","token_info","MaxInvocations","on","$event","toTokenList","project_id","checkStatus","openPurchase","checkVip","purchaseWithVip","openPurchaseForOthers","ref","staticRenderFns","data","components","purchaseModal","purchaseForOthers","pannel","computed","price","address","ethAddress","isVip","isPassportMint","created","getPath","getProjectDetail","watch","$route","methods","$router","push","$refs","purchase","open","purchaseto","name","tokens","randomToken","purchasevip","component"],"mappings":"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","file":"js/chunk-1525a537.dc46b6e5.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.isShowTokenList)?_c('div',{staticClass:\"projectDetail-container\"},[_c('my-brand',{attrs:{\"routerlist\":_vm.routerlist}}),_c('pannel',{attrs:{\"data\":_vm.projectData,\"random-token\":_vm.getToken(_vm.projectData.all_tokens),\"data-aos\":\"flip-up\"}},[_c('p',{staticClass:\"single-item\",attrs:{\"slot\":\"projectItem\"},slot:\"projectItem\"},[_vm._v(\" Price per token \"),_c('span',{staticClass:\"value\"},[_vm._v(_vm._s(_vm.getTokenPrice))])]),_c('p',{staticClass:\"single-item\",attrs:{\"slot\":\"projectItem\"},slot:\"projectItem\"},[_vm._v(\" Website \"),_c('a',{staticClass:\"value site\",attrs:{\"href\":_vm.projectData.project_website}},[_vm._v(_vm._s(_vm.projectData.project_website))])]),_c('p',{staticClass:\"single-item\",attrs:{\"slot\":\"projectItem\"},slot:\"projectItem\"},[_vm._v(\" License \"),_c('span',{staticClass:\"value\"},[_vm._v(_vm._s(_vm.projectData.project_license))])]),_c('p',{staticClass:\"single-item\",attrs:{\"slot\":\"projectItem\"},slot:\"projectItem\"},[_vm._v(\" Author Address \"),_c('router-link',{staticClass:\"value site\",attrs:{\"to\":(\"/user/\" + (_vm.projectData.project_artist_address))}},[_vm._v(\" \"+_vm._s(_vm.getShortAddress)+\" \")])],1),_c('p',{staticClass:\"single-item\",attrs:{\"slot\":\"projectItem\"},slot:\"projectItem\"},[_vm._v(\" Total Minted \"),_c('span',{staticClass:\"value\"},[_vm._v(\" \"+_vm._s(_vm.projectData.all_tokens && _vm.projectData.all_tokens.length)+\" / \"+_vm._s(_vm.projectData.token_info && _vm.projectData.token_info.MaxInvocations)+\" MAX \")])]),_c('div',{staticClass:\"operationBtn-wrapper\",attrs:{\"slot\":\"btnContent\"},slot:\"btnContent\"},[_c('button',{staticClass:\"hvr-shutter-out-vertical btn-wrapper-item\",on:{\"click\":function($event){return _vm.toTokenList(_vm.projectData.project_id)}}},[_vm._v(\" View All Minted \")]),_c('div',{staticClass:\"btn-wrapper-item\"},[(_vm.checkStatus === true)?_c('button',{staticClass:\"hvr-shutter-out-vertical\",on:{\"click\":_vm.openPurchase}},[_vm._v(\" Purchase \")]):_c('button',{staticClass:\"disableBtn\"},[_vm._v(\" Purchase \")])]),_c('div',{staticClass:\"btn-wrapper-item\"},[(_vm.checkVip === true)?_c('button',{staticClass:\"hvr-shutter-out-vertical\",on:{\"click\":_vm.purchaseWithVip}},[_vm._v(\" Purchase with vip \")]):_c('button',{staticClass:\"disableBtn\"},[_vm._v(\" Purchase with vip \")])]),_c('div',{staticClass:\"btn-wrapper-item\"},[(_vm.checkStatus === true)?_c('button',{staticClass:\"hvr-shutter-out-vertical\",on:{\"click\":_vm.openPurchaseForOthers}},[_vm._v(\" Purchase for others \")]):_c('button',{staticClass:\"disableBtn\"},[_vm._v(\" Purchase for others \")])])])]),_c('purchaseModal',{ref:\"purchase\"}),_c('purchaseForOthers',{ref:\"purchaseto\"}),_c('purchaseWithVip',{ref:\"purchasevip\"})],1):_c('div',[_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div v-if=\"!isShowTokenList\" class=\"projectDetail-container\">\n    <my-brand :routerlist=\"routerlist\" />\n    <pannel :data=\"projectData\" :random-token=\"getToken(projectData.all_tokens)\" data-aos=\"flip-up\">\n      <p slot=\"projectItem\" class=\"single-item\">\n        Price per token\n        <span class=\"value\">{{ getTokenPrice }}</span>\n      </p>\n      <p slot=\"projectItem\" class=\"single-item\">\n        Website\n        <a :href=\"projectData.project_website\" class=\"value site\">{{ projectData.project_website }}</a>\n      </p>\n      <p slot=\"projectItem\" class=\"single-item\">\n        License\n        <span class=\"value\">{{ projectData.project_license }}</span>\n      </p>\n      <p slot=\"projectItem\" class=\"single-item\">\n        Author Address\n        <router-link class=\"value site\" :to=\"`/user/${projectData.project_artist_address}`\">\n          {{ getShortAddress }}\n        </router-link>\n      </p>\n      <p slot=\"projectItem\" class=\"single-item\">\n        Total Minted\n        <span class=\"value\">\n          {{ projectData.all_tokens && projectData.all_tokens.length }} /\n          {{ projectData.token_info && projectData.token_info.MaxInvocations }} MAX\n        </span>\n      </p>\n\n      <div slot=\"btnContent\" class=\"operationBtn-wrapper\">\n        <button class=\"hvr-shutter-out-vertical btn-wrapper-item\" @click=\"toTokenList(projectData.project_id)\">\n          View All Minted\n        </button>\n\n        <div class=\"btn-wrapper-item\">\n          <button v-if=\"checkStatus === true\" class=\"hvr-shutter-out-vertical\" @click=\"openPurchase\">\n            Purchase\n          </button>\n          <button v-else class=\"disableBtn\">\n            Purchase\n          </button>\n        </div>\n\n        <div class=\"btn-wrapper-item\">\n          <button v-if=\"checkVip === true\" class=\"hvr-shutter-out-vertical\" @click=\"purchaseWithVip\">\n            Purchase with vip\n          </button>\n          <button v-else class=\"disableBtn\">\n            Purchase with vip\n          </button>\n        </div>\n\n        <div class=\"btn-wrapper-item\">\n          <button v-if=\"checkStatus === true\" class=\"hvr-shutter-out-vertical\" @click=\"openPurchaseForOthers\">\n            Purchase for others\n          </button>\n          <button v-else class=\"disableBtn\">\n            Purchase for others\n          </button>\n        </div>\n      </div>\n    </pannel>\n    <purchaseModal ref=\"purchase\" />\n    <purchaseForOthers ref=\"purchaseto\" />\n    <purchaseWithVip ref=\"purchasevip\" />\n  </div>\n\n  <div v-else>\n    <router-view />\n  </div>\n</template>\n\n<script>\n// import mockData from '@/config/mock.js';\nimport * as http from '@/common/utils/request.js';\nimport { mapState } from 'vuex';\nimport Web3 from 'web3';\nimport { getRandomToken } from '@/common/utils/utils';\nexport default {\n  data() {\n    return {\n      projectData: {},\n      // projectData1: [],\n      isShowTokenList: false,\n    };\n  },\n  components: {\n    purchaseModal: () => import('./dialog/purchase.vue'),\n    purchaseForOthers: () => import('@/views/manage/projects/dialog/IssueCardDialog.vue'),\n    purchaseWithVip: () => import('@/views/project/projectDetail/dialog/vipDialog.vue'),\n    pannel: () => import('@/components/basic/detailPanel.vue'),\n  },\n  computed: {\n    ...mapState(['ethAddress']),\n    getTokenPrice() {\n      const price = this.projectData?.token_info?.PricePerTokenInWei;\n      if (!price) {\n        return false;\n      }\n      const res = Web3.utils.fromWei(price);\n      return `${res} ETH`;\n    },\n    checkStatus() {\n      const isActive = this.projectData?.token_info?.Active;\n      const isPaused = this.projectData?.script_info?.paused;\n      const artistAddress = this.projectData?.project_artist_address;\n      const isArtist = artistAddress === this.ethAddress;\n      if ((this.ethAddress && isActive && !isPaused) || isArtist) {\n        return true;\n      }\n      return false;\n    },\n    getShortAddress() {\n      const address = this.projectData?.project_artist_address;\n      if (!address) {\n        return false;\n      }\n      return `${address.slice(0, 6)}...${address.slice(-6)}`;\n    },\n    routerlist() {\n      return [{ to: '/', name: 'Home' }, { to: '/projects', name: 'Projects' }, { name: 'ProjectDetail' }];\n    },\n    checkVip() {\n      const isVip = this.projectData?.is_vip;\n      const isPassportMint = this.projectData?.project_status?.PassportMint;\n      if (this.ethAddress && isVip && isPassportMint) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n  },\n  created() {\n    this.getPath();\n    this.getProjectDetail();\n  },\n  watch: {\n    $route: 'getPath',\n  },\n  methods: {\n    toTokenList(id) {\n      this.$router.push(`/projectDetail/${id}/gallery`);\n      this.isShowTokenList = true;\n    },\n    async getProjectDetail() {\n      const params = {\n        projectId: this.$route.params.projectID,\n      };\n      try {\n        const res = await http.fetchGet('/api/project', params);\n        console.log(res);\n        this.projectData = res.data.data;\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    openPurchase() {\n      this.$refs.purchase.open(this.projectData);\n    },\n    openPurchaseForOthers() {\n      this.$refs.purchaseto.open(this.projectData);\n    },\n    getPath() {\n      // console.log(this.$route.path);\n      if (this.$route.name === 'gallery') {\n        this.isShowTokenList = true;\n      }\n      if (this.$route.name === 'projectDetail') {\n        this.isShowTokenList = false;\n      }\n    },\n    // 获取随机token\n    getToken(tokens) {\n      if (!tokens || tokens.length <= 0) {\n        return '';\n      }\n      const randomToken = getRandomToken(tokens);\n      return randomToken;\n    },\n\n    purchaseWithVip() {\n      this.$refs.purchasevip.open(this.projectData);\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n@media (max-width: 1025px) {\n  .operationBtn-wrapper {\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    .btn-wrapper-item {\n      width: 100%;\n      height: 40px;\n      font-size: 14px;\n      button {\n        width: 100%;\n        margin: 10px;\n        font-size: 14px;\n      }\n    }\n  }\n}\n\n@media (min-width: 1026px) {\n  .operationBtn-wrapper {\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    flex-wrap: wrap;\n    .btn-wrapper-item {\n      width: 48%;\n      height: 40px;\n      font-size: 14px;\n      margin-top: 20px;\n      button {\n        width: 100%;\n        margin: 0;\n        font-size: 14px;\n      }\n    }\n  }\n}\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./projectDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./projectDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./projectDetail.vue?vue&type=template&id=59bd3ca2&scoped=true&\"\nimport script from \"./projectDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./projectDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./projectDetail.vue?vue&type=style&index=0&id=59bd3ca2&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"59bd3ca2\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./projectDetail.vue?vue&type=style&index=0&id=59bd3ca2&lang=less&scoped=true&\""],"sourceRoot":""}